(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,n){e.exports=n(19)},16:function(e,a,n){},19:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),i=n(8),o=n.n(i),c=n(9),l=n(2),s=n(3),u=n(5),h=n(4),f=n(6),d=(n(16),n(1)),m=function(e){var a=e.x,n=e.y,t=e.width,i=e.height;return r.a.createElement("rect",{x:a,y:n,width:t,height:i,className:"rect"})},v=m;m.defaultProps={x:0,y:0,width:0,height:0};var p=function(e){function a(){var e,n;Object(l.a)(this,a);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(i)))).axisRef=r.a.createRef(),n}return Object(f.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.updateAxis()}},{key:"componentDidUpdate",value:function(e){var a=this.props.scale;JSON.stringify(e.scale.domain())!==JSON.stringify(a.domain())&&this.updateAxis()}},{key:"updateAxis",value:function(){var e=this.props,a=e.orientation,n=e.scale;d.select(this.axisRef.current).transition().duration(500).call(d["axis".concat(a)](n))}},{key:"render",value:function(){var e=this.props,a=e.xTransform,n=e.yTransform,t=e.className;return r.a.createElement("g",{ref:this.axisRef,transform:"translate(".concat(a,", ").concat(n,")"),className:t})}}]),a}(t.Component);p.defaultProps={orientation:"Left",xTransform:0,yTransform:0,className:null};var g=p,y=20,w=10,b=30,j=35,x=750-j-w,C=300-y-b,k=function(e){function a(){var e,n;Object(l.a)(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={bars:[],xScale:null,yScale:null},n}return Object(f.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a=e.xScale,n=e.yScale,t=e.bars;return a&&n?r.a.createElement("svg",{width:x+j+w,height:C+y+b},r.a.createElement("g",{transform:"translate(".concat(j,", ").concat(y,")")},t.map(function(e){return r.a.createElement(v,{x:e.x,y:e.y,width:e.width,height:e.height,key:e.x})}),r.a.createElement(g,{orientation:"Bottom",scale:a,xTransform:0,yTransform:C,className:"XAxis"}),r.a.createElement(g,{orientation:"Left",xTransform:0,yTransform:0,scale:n,className:null}))):null}}],[{key:"getDerivedStateFromProps",value:function(e){var a=e.data;if(!a)return{};var n=d.scaleBand().domain(a.map(function(e){return e.month})).rangeRound([0,x]).padding(.1),t=d.scaleLinear().domain([0,d.max(a,function(e){return e.rainfall})]).range([C,0]).nice(),r=a.map(function(e){return{x:n(e.month),y:t(e.rainfall),height:C-t(e.rainfall),width:n.bandwidth()}});return{xScale:n,yScale:t,bars:r}}}]),a}(t.Component),E=function(e){function a(){var e,n;Object(l.a)(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={precipitation:{},city:"van"},n.updateCity=function(e){n.setState({city:e.target.value})},n}return Object(f.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("".concat("/rainfall-in-canada","/van.json")),fetch("".concat("/rainfall-in-canada","/yel.json")),fetch("".concat("/rainfall-in-canada","/cal.json")),fetch("".concat("/rainfall-in-canada","/tor.json")),fetch("".concat("/rainfall-in-canada","/stj.json"))]).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(a){var n=Object(c.a)(a,5),t=n[0],r=n[1],i=n[2],o=n[3],l=n[4];e.setState({precipitation:{van:t,yel:r,cal:i,tor:o,stj:l}})})}},{key:"render",value:function(){var e=this.state.precipitation[this.state.city];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Intro"},r.a.createElement("h1",null," Rainfall in Canada "),r.a.createElement("p",null,"There are five distinct regions in Canada: the West Coast, the Northern Territories, the Prairie Provinces, Central Canada and the Atlantic Region. The West Coast precipitation is higher in winter than in summer. In the Prairie Provinces and in the Northern Territories spring and summer are wetter than winter. In Central Canada winter and summer precipitation levels are approximately the same. Rainfall is fairly evenly distributed throughout the year in the Atlantic Provinces."),r.a.createElement("p",null,"Bar charts show monthly rainfall (in mm) in Vancouver (West Coast), Yellowknife (Northern Territories), Calgary (Prairies), Toronto (Central Canada) and St. John's (Atlantic Region) in 2018. Data provided by"," "," ",r.a.createElement("a",{href:"https://www.canada.ca/en/environment-climate-change.html",target:"_blank",rel:"noopener noreferrer"},"Environment and Climate Change Canada")," ","via",r.a.createElement("a",{href:"https://www.weatherstats.ca/",target:"_blank",rel:"noopener noreferrer"}," ","weatherstats"),".")),r.a.createElement("div",{className:"Selector"},r.a.createElement("select",{name:"city",onChange:this.updateCity},[{label:"Vancouver",value:"van"},{label:"Yellowknife",value:"yel"},{label:"Calgary",value:"cal"},{label:"Toronto",value:"tor"},{label:"St. John's",value:"stj"}].map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))),r.a.createElement("div",{className:"Chart"},r.a.createElement(k,{data:e})))}}]),a}(t.Component),O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(E,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/rainfall-in-canada",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/rainfall-in-canada","/service-worker.js");O?(function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):N(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):N(e)})}}()}},[[10,2,1]]]);
//# sourceMappingURL=main.34e6388c.chunk.js.map